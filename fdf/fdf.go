//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_gg "bufio";_eg "bytes";_d "encoding/hex";_f "errors";_cf "fmt";_dd "github.com/pplorins/unipdf/v3/common";_bf "github.com/pplorins/unipdf/v3/core";_b "io";_ec "os";_c "regexp";_gf "sort";_g "strconv";_e "strings";);func (_bcf *fdfParser )parseObject ()(_bf .PdfObject ,error ){_dd .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_bcf .skipSpaces ();for {_cdb ,_aed :=_bcf ._fga .Peek (2);if _aed !=nil {return nil ,_aed ;};_dd .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_cdb ));if _cdb [0]=='/'{_eab ,_abf :=_bcf .parseName ();_dd .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_eab );return &_eab ,_abf ;}else if _cdb [0]=='('{_dd .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _bcf .parseString ();}else if _cdb [0]=='['{_dd .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _bcf .parseArray ();}else if (_cdb [0]=='<')&&(_cdb [1]=='<'){_dd .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _bcf .parseDict ();}else if _cdb [0]=='<'{_dd .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _bcf .parseHexString ();}else if _cdb [0]=='%'{_bcf .readComment ();_bcf .skipSpaces ();}else {_dd .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_cdb ,_ =_bcf ._fga .Peek (15);_dfaee :=string (_cdb );_dd .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_dfaee );if (len (_dfaee )> 3)&&(_dfaee [:4]=="\u006e\u0075\u006c\u006c"){_deb ,_dac :=_bcf .parseNull ();return &_deb ,_dac ;}else if (len (_dfaee )> 4)&&(_dfaee [:5]=="\u0066\u0061\u006cs\u0065"){_gfga ,_dc :=_bcf .parseBool ();return &_gfga ,_dc ;}else if (len (_dfaee )> 3)&&(_dfaee [:4]=="\u0074\u0072\u0075\u0065"){_cbd ,_gabbg :=_bcf .parseBool ();return &_cbd ,_gabbg ;};_dga :=_gad .FindStringSubmatch (_dfaee );if len (_dga )> 1{_cdb ,_ =_bcf ._fga .ReadBytes ('R');_dd .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_cdb [:]));_fdbd ,_bbc :=_gadb (string (_cdb ));return &_fdbd ,_bbc ;};_bga :=_af .FindStringSubmatch (_dfaee );if len (_bga )> 1{_dd .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _bcf .parseNumber ();};_bga =_ad .FindStringSubmatch (_dfaee );if len (_bga )> 1{_dd .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_dd .Log .Trace ("\u0025\u0020\u0073",_bga );return _bcf .parseNumber ();};_dd .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_dfaee );return nil ,_f .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");};};};var _gad =_c .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");

// Root returns the Root of the FDF document.
func (_ccge *fdfParser )Root ()(*_bf .PdfObjectDictionary ,error ){if _ccge ._ade !=nil {if _ag ,_begc :=_ccge .trace (_ccge ._ade .Get ("\u0052\u006f\u006f\u0074")).(*_bf .PdfObjectDictionary );_begc {if _egfa ,_cfd :=_ccge .trace (_ag .Get ("\u0046\u0044\u0046")).(*_bf .PdfObjectDictionary );_cfd {return _egfa ,nil ;};};};var _acg []int64 ;for _dcg :=range _ccge ._cea {_acg =append (_acg ,_dcg );};_gf .Slice (_acg ,func (_eed ,_adc int )bool {return _acg [_eed ]< _acg [_adc ]});for _ ,_egd :=range _acg {_bcb :=_ccge ._cea [_egd ];if _ecg ,_cda :=_ccge .trace (_bcb ).(*_bf .PdfObjectDictionary );_cda {if _fgfc ,_gbca :=_ccge .trace (_ecg .Get ("\u0046\u0044\u0046")).(*_bf .PdfObjectDictionary );_gbca {return _fgfc ,nil ;};};};return nil ,_f .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};

// Load loads FDF form data from `r`.
func Load (r _b .ReadSeeker )(*Data ,error ){_ab ,_gc :=_dbeg (r );if _gc !=nil {return nil ,_gc ;};_db ,_gc :=_ab .Root ();if _gc !=nil {return nil ,_gc ;};_cag ,_gfa :=_bf .GetArray (_db .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_gfa {return nil ,_f .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");};return &Data {_ca :_cag ,_fd :_db },nil ;};func (_ddeg *fdfParser )parseName ()(_bf .PdfObjectName ,error ){var _cg _eg .Buffer ;_gcgb :=false ;for {_bc ,_bd :=_ddeg ._fga .Peek (1);if _bd ==_b .EOF {break ;};if _bd !=nil {return _bf .PdfObjectName (_cg .String ()),_bd ;};if !_gcgb {if _bc [0]=='/'{_gcgb =true ;_ddeg ._fga .ReadByte ();}else if _bc [0]=='%'{_ddeg .readComment ();_ddeg .skipSpaces ();}else {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_bc ,_bc );return _bf .PdfObjectName (_cg .String ()),_cf .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_bc [0]);};}else {if _bf .IsWhiteSpace (_bc [0]){break ;}else if (_bc [0]=='/')||(_bc [0]=='[')||(_bc [0]=='(')||(_bc [0]==']')||(_bc [0]=='<')||(_bc [0]=='>'){break ;}else if _bc [0]=='#'{_fb ,_cc :=_ddeg ._fga .Peek (3);if _cc !=nil {return _bf .PdfObjectName (_cg .String ()),_cc ;};_ddeg ._fga .Discard (3);_eeb ,_cc :=_d .DecodeString (string (_fb [1:3]));if _cc !=nil {return _bf .PdfObjectName (_cg .String ()),_cc ;};_cg .Write (_eeb );}else {_cgf ,_ :=_ddeg ._fga .ReadByte ();_cg .WriteByte (_cgf );};};};return _bf .PdfObjectName (_cg .String ()),nil ;};var _fgf =_c .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_ece *fdfParser )parseString ()(*_bf .PdfObjectString ,error ){_ece ._fga .ReadByte ();var _dgc _eg .Buffer ;_ccg :=1;for {_dae ,_fgb :=_ece ._fga .Peek (1);if _fgb !=nil {return _bf .MakeString (_dgc .String ()),_fgb ;};if _dae [0]=='\\'{_ece ._fga .ReadByte ();_bad ,_fbg :=_ece ._fga .ReadByte ();if _fbg !=nil {return _bf .MakeString (_dgc .String ()),_fbg ;};if _bf .IsOctalDigit (_bad ){_deg ,_bbf :=_ece ._fga .Peek (2);if _bbf !=nil {return _bf .MakeString (_dgc .String ()),_bbf ;};var _egeg []byte ;_egeg =append (_egeg ,_bad );for _ ,_gabb :=range _deg {if _bf .IsOctalDigit (_gabb ){_egeg =append (_egeg ,_gabb );}else {break ;};};_ece ._fga .Discard (len (_egeg )-1);_dd .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_egeg );_aaf ,_bbf :=_g .ParseUint (string (_egeg ),8,32);if _bbf !=nil {return _bf .MakeString (_dgc .String ()),_bbf ;};_dgc .WriteByte (byte (_aaf ));continue ;};switch _bad {case 'n':_dgc .WriteRune ('\n');case 'r':_dgc .WriteRune ('\r');case 't':_dgc .WriteRune ('\t');case 'b':_dgc .WriteRune ('\b');case 'f':_dgc .WriteRune ('\f');case '(':_dgc .WriteRune ('(');case ')':_dgc .WriteRune (')');case '\\':_dgc .WriteRune ('\\');};continue ;}else if _dae [0]=='('{_ccg ++;}else if _dae [0]==')'{_ccg --;if _ccg ==0{_ece ._fga .ReadByte ();break ;};};_ed ,_ :=_ece ._fga .ReadByte ();_dgc .WriteByte (_ed );};return _bf .MakeString (_dgc .String ()),nil ;};var _dge =_c .MustCompile ("\u0025\u0025\u0045O\u0046");var _ba =_c .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_ea *fdfParser )readAtLeast (_ege []byte ,_cee int )(int ,error ){_fg :=_cee ;_ga :=0;_gab :=0;for _fg > 0{_da ,_gb :=_ea ._fga .Read (_ege [_ga :]);if _gb !=nil {_dd .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_da ,_gab ,_gb .Error ());return _ga ,_f .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_gab ++;_ga +=_da ;_fg -=_da ;};return _ga ,nil ;};func _dbeg (_fff _b .ReadSeeker )(*fdfParser ,error ){_gefb :=&fdfParser {};_gefb ._dfb =_fff ;_gefb ._cea =map[int64 ]_bf .PdfObject {};_fbf ,_bce ,_eee :=_gefb .parseFdfVersion ();if _eee !=nil {_dd .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_eee );return nil ,_eee ;};_gefb ._egc =_fbf ;_gefb ._dfa =_bce ;_eee =_gefb .parse ();return _gefb ,_eee ;};type fdfParser struct{_egc int ;_dfa int ;_cea map[int64 ]_bf .PdfObject ;_dfb _b .ReadSeeker ;_fga *_gg .Reader ;_gd int64 ;_ade *_bf .PdfObjectDictionary ;};func (_eea *fdfParser )parseHexString ()(*_bf .PdfObjectString ,error ){_eea ._fga .ReadByte ();var _edd _eg .Buffer ;for {_ead ,_gfg :=_eea ._fga .Peek (1);if _gfg !=nil {return _bf .MakeHexString (""),_gfg ;};if _ead [0]=='>'{_eea ._fga .ReadByte ();break ;};_fdf ,_ :=_eea ._fga .ReadByte ();if !_bf .IsWhiteSpace (_fdf ){_edd .WriteByte (_fdf );};};if _edd .Len ()%2==1{_edd .WriteRune ('0');};_cbc ,_fbc :=_d .DecodeString (_edd .String ());if _fbc !=nil {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_edd .String ());return _bf .MakeHexString (""),nil ;};return _bf .MakeHexString (string (_cbc )),nil ;};func _adae (_dcb string )(*fdfParser ,error ){_cabe :=fdfParser {};_bdg :=[]byte (_dcb );_edgc :=_eg .NewReader (_bdg );_cabe ._dfb =_edgc ;_cabe ._cea =map[int64 ]_bf .PdfObject {};_bdd :=_gg .NewReader (_edgc );_cabe ._fga =_bdd ;_cabe ._gd =int64 (len (_dcb ));return &_cabe ,_cabe .parse ();};func (_ge *fdfParser )getFileOffset ()int64 {_gfb ,_ :=_ge ._dfb .Seek (0,_b .SeekCurrent );_gfb -=int64 (_ge ._fga .Buffered ());return _gfb ;};func (_bee *fdfParser )parseFdfVersion ()(int ,int ,error ){_bee ._dfb .Seek (0,_b .SeekStart );_eb :=20;_def :=make ([]byte ,_eb );_bee ._dfb .Read (_def );_ffd :=_ba .FindStringSubmatch (string (_def ));if len (_ffd )< 3{_ecd ,_bbfd ,_dcf :=_bee .seekFdfVersionTopDown ();if _dcf !=nil {_dd .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");return 0,0,_dcf ;};return _ecd ,_bbfd ,nil ;};_dgd ,_caf :=_g .Atoi (_ffd [1]);if _caf !=nil {return 0,0,_caf ;};_bfc ,_caf :=_g .Atoi (_ffd [2]);if _caf !=nil {return 0,0,_caf ;};_dd .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_dgd ,_bfc );return _dgd ,_bfc ,nil ;};var _af =_c .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func _gadb (_fgc string )(_bf .PdfObjectReference ,error ){_gbc :=_bf .PdfObjectReference {};_aeag :=_gad .FindStringSubmatch (_fgc );if len (_aeag )< 3{_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _gbc ,_f .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_aca ,_bg :=_g .Atoi (_aeag [1]);if _bg !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_aeag [1]);return _gbc ,nil ;};_gbc .ObjectNumber =int64 (_aca );_fdd ,_bg :=_g .Atoi (_aeag [2]);if _bg !=nil {_dd .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_aeag [2]);return _gbc ,nil ;};_gbc .GenerationNumber =int64 (_fdd );return _gbc ,nil ;};func (_gaaf *fdfParser )parseBool ()(_bf .PdfObjectBool ,error ){_efc ,_gcf :=_gaaf ._fga .Peek (4);if _gcf !=nil {return _bf .PdfObjectBool (false ),_gcf ;};if (len (_efc )>=4)&&(string (_efc [:4])=="\u0074\u0072\u0075\u0065"){_gaaf ._fga .Discard (4);return _bf .PdfObjectBool (true ),nil ;};_efc ,_gcf =_gaaf ._fga .Peek (5);if _gcf !=nil {return _bf .PdfObjectBool (false ),_gcf ;};if (len (_efc )>=5)&&(string (_efc [:5])=="\u0066\u0061\u006cs\u0065"){_gaaf ._fga .Discard (5);return _bf .PdfObjectBool (false ),nil ;};return _bf .PdfObjectBool (false ),_f .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};func (_egf *fdfParser )parseNumber ()(_bf .PdfObject ,error ){return _bf .ParseNumber (_egf ._fga )};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_bf .PdfObjectDictionary ,error ){_dbg :=map[string ]*_bf .PdfObjectDictionary {};for _fag :=0;_fag < fdf ._ca .Len ();_fag ++{_cd ,_dbe :=_bf .GetDict (fdf ._ca .Get (_fag ));if _dbe {_dbf ,_ :=_bf .GetString (_cd .Get ("\u0054"));if _dbf !=nil {_dbg [_dbf .Str ()]=_cd ;};};};return _dbg ,nil ;};func (_bge *fdfParser )parseDict ()(*_bf .PdfObjectDictionary ,error ){_dd .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_gdc :=_bf .MakeDict ();_ecf ,_ :=_bge ._fga .ReadByte ();if _ecf !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_ecf ,_ =_bge ._fga .ReadByte ();if _ecf !='<'{return nil ,_f .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_bge .skipSpaces ();_bge .skipComments ();_bfb ,_gcc :=_bge ._fga .Peek (2);if _gcc !=nil {return nil ,_gcc ;};_dd .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bfb ),string (_bfb ));if (_bfb [0]=='>')&&(_bfb [1]=='>'){_dd .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_bge ._fga .ReadByte ();_bge ._fga .ReadByte ();break ;};_dd .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_fbe ,_gcc :=_bge .parseName ();_dd .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_fbe );if _gcc !=nil {_dd .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_gcc );return nil ,_gcc ;};if len (_fbe )> 4&&_fbe [len (_fbe )-4:]=="\u006e\u0075\u006c\u006c"{_cdbc :=_fbe [0:len (_fbe )-4];_dd .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_fbe );_dd .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_cdbc );_bge .skipSpaces ();_faga ,_ :=_bge ._fga .Peek (1);if _faga [0]=='/'{_gdc .Set (_cdbc ,_bf .MakeNull ());continue ;};};_bge .skipSpaces ();_cfa ,_gcc :=_bge .parseObject ();if _gcc !=nil {return nil ,_gcc ;};_gdc .Set (_fbe ,_cfa );_dd .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_fbe ,_cfa .String ());};_dd .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _gdc ,nil ;};func (_gaab *fdfParser )parseIndirectObject ()(_bf .PdfObject ,error ){_gbf :=_bf .PdfIndirectObject {};_dd .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_bcc ,_bdb :=_gaab ._fga .Peek (20);if _bdb !=nil {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_gbf ,_bdb ;};_dd .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_bcc ));_ffe :=_fgf .FindStringSubmatchIndex (string (_bcc ));if len (_ffe )< 6{_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bcc ));return &_gbf ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_gaab ._fga .Discard (_ffe [0]);_dd .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_ffe );_ada :=_ffe [1]-_ffe [0];_abfc :=make ([]byte ,_ada );_ ,_bdb =_gaab .readAtLeast (_abfc ,_ada );if _bdb !=nil {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_bdb );return nil ,_bdb ;};_dd .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_abfc );_edf :=_fgf .FindStringSubmatch (string (_abfc ));if len (_edf )< 3{_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_abfc ));return &_gbf ,_f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_bbea ,_ :=_g .Atoi (_edf [1]);_cabd ,_ :=_g .Atoi (_edf [2]);_gbf .ObjectNumber =int64 (_bbea );_gbf .GenerationNumber =int64 (_cabd );for {_bca ,_adab :=_gaab ._fga .Peek (2);if _adab !=nil {return &_gbf ,_adab ;};_dd .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bca ),string (_bca ));if _bf .IsWhiteSpace (_bca [0]){_gaab .skipSpaces ();}else if _bca [0]=='%'{_gaab .skipComments ();}else if (_bca [0]=='<')&&(_bca [1]=='<'){_dd .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_gbf .PdfObject ,_adab =_gaab .parseDict ();_dd .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_adab );if _adab !=nil {return &_gbf ,_adab ;};_dd .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");}else if (_bca [0]=='/')||(_bca [0]=='(')||(_bca [0]=='[')||(_bca [0]=='<'){_gbf .PdfObject ,_adab =_gaab .parseObject ();if _adab !=nil {return &_gbf ,_adab ;};_dd .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");}else {if _bca [0]=='e'{_dddb ,_bba :=_gaab .readTextLine ();if _bba !=nil {return nil ,_bba ;};if len (_dddb )>=6&&_dddb [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _bca [0]=='s'{_bca ,_ =_gaab ._fga .Peek (10);if string (_bca [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_geb :=6;if len (_bca )> 6{if _bf .IsWhiteSpace (_bca [_geb ])&&_bca [_geb ]!='\r'&&_bca [_geb ]!='\n'{_dd .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");_geb ++;};if _bca [_geb ]=='\r'{_geb ++;if _bca [_geb ]=='\n'{_geb ++;};}else if _bca [_geb ]=='\n'{_geb ++;};};_gaab ._fga .Discard (_geb );_fgd ,_cge :=_gbf .PdfObject .(*_bf .PdfObjectDictionary );if !_cge {return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");};_dd .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_fgd );_bfa ,_ccc :=_fgd .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_bf .PdfObjectInteger );if !_ccc {return nil ,_f .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");};_dddbf :=*_bfa ;if _dddbf < 0{return nil ,_f .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_dddbf )> _gaab ._gd {_dd .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");return nil ,_f .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_eff :=make ([]byte ,_dddbf );_ ,_adab =_gaab .readAtLeast (_eff ,int (_dddbf ));if _adab !=nil {_dd .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_eff ),_eff );_dd .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_adab );return nil ,_adab ;};_cec :=_bf .PdfObjectStream {};_cec .Stream =_eff ;_cec .PdfObjectDictionary =_gbf .PdfObject .(*_bf .PdfObjectDictionary );_cec .ObjectNumber =_gbf .ObjectNumber ;_cec .GenerationNumber =_gbf .GenerationNumber ;_gaab .skipSpaces ();_gaab ._fga .Discard (9);_gaab .skipSpaces ();return &_cec ,nil ;};};_gbf .PdfObject ,_adab =_gaab .parseObject ();return &_gbf ,_adab ;};};_dd .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");return &_gbf ,nil ;};func (_gaa *fdfParser )skipSpaces ()(int ,error ){_fc :=0;for {_gfd ,_bef :=_gaa ._fga .ReadByte ();if _bef !=nil {return 0,_bef ;};if _bf .IsWhiteSpace (_gfd ){_fc ++;}else {_gaa ._fga .UnreadByte ();break ;};};return _fc ,nil ;};func (_ceeg *fdfParser )skipComments ()error {if _ ,_cab :=_ceeg .skipSpaces ();_cab !=nil {return _cab ;};_gef :=true ;for {_dag ,_fcd :=_ceeg ._fga .Peek (1);if _fcd !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_fcd .Error ());return _fcd ;};if _gef &&_dag [0]!='%'{return nil ;};_gef =false ;if (_dag [0]!='\r')&&(_dag [0]!='\n'){_ceeg ._fga .ReadByte ();}else {break ;};};return _ceeg .skipComments ();};func (_ecfe *fdfParser )parse ()error {_ecfe ._dfb .Seek (0,_b .SeekStart );_ecfe ._fga =_gg .NewReader (_ecfe ._dfb );for {_ecfe .skipComments ();_ecdf ,_gbga :=_ecfe ._fga .Peek (20);if _gbga !=nil {_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return _gbga ;};if _e .HasPrefix (string (_ecdf ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_ecfe ._fga .Discard (7);_ecfe .skipSpaces ();_ecfe .skipComments ();_efa ,_ :=_ecfe .parseDict ();_ecfe ._ade =_efa ;break ;};_edfe :=_fgf .FindStringSubmatchIndex (string (_ecdf ));if len (_edfe )< 6{_dd .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_ecdf ));return _f .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_afe ,_gbga :=_ecfe .parseIndirectObject ();if _gbga !=nil {return _gbga ;};switch _age :=_afe .(type ){case *_bf .PdfIndirectObject :_ecfe ._cea [_age .ObjectNumber ]=_age ;case *_bf .PdfObjectStream :_ecfe ._cea [_age .ObjectNumber ]=_age ;default:return _f .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");};};return nil ;};

// Data represents forms data format (FDF) file data.
type Data struct{_fd *_bf .PdfObjectDictionary ;_ca *_bf .PdfObjectArray ;};func (_dde *fdfParser )setFileOffset (_gcb int64 ){_dde ._dfb .Seek (_gcb ,_b .SeekStart );_dde ._fga =_gg .NewReader (_dde ._dfb );};func (_ega *fdfParser )parseNull ()(_bf .PdfObjectNull ,error ){_ ,_fdbb :=_ega ._fga .Discard (4);return _bf .PdfObjectNull {},_fdbb ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_fa ,_ggf :=_ec .Open (fdfPath );if _ggf !=nil {return nil ,_ggf ;};defer _fa .Close ();return Load (_fa );};func (_dda *fdfParser )trace (_fgbc _bf .PdfObject )_bf .PdfObject {switch _dab :=_fgbc .(type ){case *_bf .PdfObjectReference :_badf ,_dce :=_dda ._cea [_dab .ObjectNumber ].(*_bf .PdfIndirectObject );if _dce {return _badf .PdfObject ;};_dd .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_bf .PdfIndirectObject :return _dab .PdfObject ;};return _fgbc ;};func (_cad *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_cad ._dfb .Seek (0,_b .SeekStart );_cad ._fga =_gg .NewReader (_cad ._dfb );_fge :=20;_gdd :=make ([]byte ,_fge );for {_gdg ,_badcg :=_cad ._fga .ReadByte ();if _badcg !=nil {if _badcg ==_b .EOF {break ;}else {return 0,0,_badcg ;};};if _bf .IsDecimalDigit (_gdg )&&_gdd [_fge -1]=='.'&&_bf .IsDecimalDigit (_gdd [_fge -2])&&_gdd [_fge -3]=='-'&&_gdd [_fge -4]=='F'&&_gdd [_fge -5]=='D'&&_gdd [_fge -6]=='P'{_edb :=int (_gdd [_fge -2]-'0');_adbf :=int (_gdg -'0');return _edb ,_adbf ,nil ;};_gdd =append (_gdd [1:_fge ],_gdg );};return 0,0,_f .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};var _ad =_c .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");func (_egg *fdfParser )readTextLine ()(string ,error ){var _gcg _eg .Buffer ;for {_acd ,_dfae :=_egg ._fga .Peek (1);if _dfae !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_dfae .Error ());return _gcg .String (),_dfae ;};if (_acd [0]!='\r')&&(_acd [0]!='\n'){_bae ,_ :=_egg ._fga .ReadByte ();_gcg .WriteByte (_bae );}else {break ;};};return _gcg .String (),nil ;};func (_dgec *fdfParser )readComment ()(string ,error ){var _gbe _eg .Buffer ;_ ,_de :=_dgec .skipSpaces ();if _de !=nil {return _gbe .String (),_de ;};_gba :=true ;for {_cb ,_gdf :=_dgec ._fga .Peek (1);if _gdf !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_gdf .Error ());return _gbe .String (),_gdf ;};if _gba &&_cb [0]!='%'{return _gbe .String (),_f .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_gba =false ;if (_cb [0]!='\r')&&(_cb [0]!='\n'){_gcbd ,_ :=_dgec ._fga .ReadByte ();_gbe .WriteByte (_gcbd );}else {break ;};};return _gbe .String (),nil ;};func (_adb *fdfParser )parseArray ()(*_bf .PdfObjectArray ,error ){_aea :=_bf .MakeArray ();_adb ._fga .ReadByte ();for {_adb .skipSpaces ();_gbg ,_edg :=_adb ._fga .Peek (1);if _edg !=nil {return _aea ,_edg ;};if _gbg [0]==']'{_adb ._fga .ReadByte ();break ;};_cef ,_edg :=_adb .parseObject ();if _edg !=nil {return _aea ,_edg ;};_aea .Append (_cef );};return _aea ,nil ;};func (_fde *fdfParser )seekToEOFMarker (_bbe int64 )error {_dcd :=int64 (0);_gff :=int64 (1000);for _dcd < _bbe {if _bbe <=(_gff +_dcd ){_gff =_bbe -_dcd ;};_ ,_ddd :=_fde ._dfb .Seek (-_dcd -_gff ,_b .SeekEnd );if _ddd !=nil {return _ddd ;};_degd :=make ([]byte ,_gff );_fde ._dfb .Read (_degd );_dd .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_degd ));_bgd :=_dge .FindAllStringIndex (string (_degd ),-1);if _bgd !=nil {_cca :=_bgd [len (_bgd )-1];_dd .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_bgd );_fde ._dfb .Seek (-_dcd -_gff +int64 (_cca [0]),_b .SeekEnd );return nil ;};_dd .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");_dcd +=_gff ;};_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _f .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_bf .PdfObject ,error ){_bb ,_ac :=fdf .FieldDictionaries ();if _ac !=nil {return nil ,_ac ;};var _dg []string ;for _fdb :=range _bb {_dg =append (_dg ,_fdb );};_gf .Strings (_dg );_ae :=map[string ]_bf .PdfObject {};for _ ,_dbb :=range _dg {_ee :=_bb [_dbb ];_ce :=_bf .TraceToDirectObject (_ee .Get ("\u0056"));_ae [_dbb ]=_ce ;};return _ae ,nil ;};